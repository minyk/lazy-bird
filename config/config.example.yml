# Lazy_Bird Configuration File
# Copy to ~/.config/lazy_birtd/config.yml and customize

# ============================================================================
# MULTI-PROJECT CONFIGURATION (New in Phase 1.1)
# ============================================================================
# You can now manage multiple projects with a single Lazy_Bird instance!
# Simply define them in the 'projects' array below.
#
# Each project needs:
#   - id:            Unique identifier (no spaces, alphanumeric with dashes)
#   - name:          Display name for the project
#   - type:          Framework type (godot, python, rust, nodejs, django, etc.)
#   - path:          Absolute path to project directory
#   - repository:    Git repository URL (GitHub or GitLab)
#   - git_platform:  Either 'github' or 'gitlab'
#   - test_command:  Command to run tests
#   - build_command: Command to build (or null if not needed)
#   - enabled:       Set to false to temporarily disable a project
#
# The issue watcher will monitor all enabled projects automatically!

projects:
  # Example 1: Godot Game Project
  - id: "my-platformer"
    name: "My Platformer Game"
    type: godot
    path: /home/yourusername/projects/platformer
    repository: https://github.com/yourusername/platformer
    git_platform: github
    test_command: "godot --headless -s addons/gdUnit4/bin/GdUnitCmdTool.gd --test-suite all"
    build_command: null
    lint_command: null
    format_command: null
    enabled: true

  # Example 2: Python/Django Web Application
  - id: "webapp"
    name: "My Web Application"
    type: django
    path: /home/yourusername/projects/webapp
    repository: https://github.com/yourusername/webapp
    git_platform: github
    test_command: "python manage.py test"
    build_command: null
    lint_command: "flake8 ."
    format_command: "black ."
    enabled: true

  # Example 3: Rust CLI Tool
  - id: "cli-tool"
    name: "My CLI Tool"
    type: rust
    path: /home/yourusername/projects/cli-tool
    repository: https://github.com/yourusername/cli-tool
    git_platform: github
    test_command: "cargo test --all"
    build_command: "cargo build --release"
    lint_command: "cargo clippy"
    format_command: "cargo fmt"
    enabled: true

# To add more projects, simply copy one of the examples above and customize.
# Remove or set enabled: false for projects you don't want to monitor.

# ============================================================================
# BACKWARD COMPATIBILITY - SINGLE PROJECT MODE (Legacy v2.0-2.1)
# ============================================================================
# If you're migrating from an older version, your existing single-project
# configuration will still work. If both 'projects' array and legacy 'project'
# exist, the 'projects' array takes precedence.
#
# Legacy single-project format (still supported):

# project:
#   type: godot
#   name: "My Game Project"
#   path: /home/yourusername/my-project
#
# test_command: "godot --headless -s addons/gdUnit4/bin/GdUnitCmdTool.gd --test-suite all"
# build_command: null
# lint_command: null
# format_command: null
#
# git_platform: github
# repository: https://github.com/yourusername/your-project

# ============================================================================
# SYSTEM CONFIGURATION
# ============================================================================

# Issue polling interval in seconds (applies to all projects)
poll_interval_seconds: 60

# Phase configuration (1-6)
# Phase 1: Single agent, sequential processing
# Phase 1.1: Multi-project support (current)
# Phase 2: Multi-agent with coordination
# Phase 3: Remote access + monitoring
# Phase 4-6: Advanced features
phase: 1

# Resource limits
max_concurrent_agents: 1  # Phase 1: always 1
memory_limit_gb: 8        # RAM limit per agent

# Task complexity limits (for Phase 2+)
task_limits:
  simple:
    max_parallel: 3
    memory_gb: 2
  medium:
    max_parallel: 2
    memory_gb: 3
  complex:
    max_parallel: 1
    memory_gb: 5

# Retry configuration
retry:
  max_attempts: 3
  max_cost_per_task_usd: 5.0
  daily_budget_limit_usd: 50.0

# Notifications (Phase 3+)
# notifications:
#   enabled: false
#   ntfy_topic: your-unique-topic
#   webhook_url: https://your-webhook.example.com

# Dashboard (Phase 3+)
# dashboard:
#   enabled: false
#   host: 127.0.0.1
#   port: 5000
#   auth: basic
#   username: admin
#   password_hash: your-bcrypt-hash

# VPN (Phase 3+)
# vpn:
#   enabled: false
#   interface: wg0
#   subnet: 10.0.0.0/24

# ============================================================================
# FRAMEWORK-SPECIFIC CONFIGURATION EXAMPLES
# ============================================================================
# Below are more example project configurations for different frameworks.
# Copy any of these into the 'projects' array above and customize.

# ---------------------------------------------------------------------------
# Unity Game Engine
# ---------------------------------------------------------------------------
# - id: "unity-game"
#   name: "My Unity Game"
#   type: unity
#   path: /home/user/my-unity-game
#   repository: https://github.com/user/unity-game
#   git_platform: github
#   test_command: "unity-editor -runTests -testPlatform EditMode -testResults test-results.xml -batchmode -quit"
#   build_command: "unity-editor -quit -batchmode -buildTarget StandaloneLinux64"
#   enabled: true

# ---------------------------------------------------------------------------
# React Frontend Application
# ---------------------------------------------------------------------------
# - id: "react-dashboard"
#   name: "My React Dashboard"
#   type: react
#   path: /home/user/my-react-app
#   repository: https://github.com/user/react-dashboard
#   git_platform: github
#   test_command: "npm test -- --watchAll=false"
#   build_command: "npm run build"
#   lint_command: "npm run lint"
#   format_command: "npm run format"
#   enabled: true

# ---------------------------------------------------------------------------
# Flask Python API
# ---------------------------------------------------------------------------
# - id: "api-backend"
#   name: "My Flask API"
#   type: flask
#   path: /home/user/my-flask-api
#   repository: https://github.com/user/flask-api
#   git_platform: github
#   test_command: "pytest tests/ -v"
#   build_command: null
#   lint_command: "flake8 ."
#   format_command: "black ."
#   enabled: true

# ---------------------------------------------------------------------------
# Node.js Express API
# ---------------------------------------------------------------------------
# - id: "express-api"
#   name: "My Express API"
#   type: express
#   path: /home/user/my-express-api
#   repository: https://github.com/user/express-api
#   git_platform: github
#   test_command: "npm test"
#   build_command: null
#   lint_command: "npm run lint"
#   enabled: true

# ---------------------------------------------------------------------------
# Bevy Game Engine (Rust)
# ---------------------------------------------------------------------------
# - id: "bevy-game"
#   name: "My Bevy Game"
#   type: bevy
#   path: /home/user/my-bevy-game
#   repository: https://github.com/user/bevy-game
#   git_platform: github
#   test_command: "cargo test --all"
#   build_command: "cargo build --release"
#   lint_command: "cargo clippy"
#   format_command: "cargo fmt"
#   enabled: true

# ---------------------------------------------------------------------------
# FastAPI Python Application
# ---------------------------------------------------------------------------
# - id: "fastapi-service"
#   name: "My FastAPI Service"
#   type: fastapi
#   path: /home/user/my-fastapi
#   repository: https://github.com/user/fastapi-service
#   git_platform: github
#   test_command: "pytest tests/ -v"
#   build_command: null
#   lint_command: "flake8 ."
#   format_command: "black ."
#   enabled: true

# ---------------------------------------------------------------------------
# GitLab Project Example
# ---------------------------------------------------------------------------
# - id: "gitlab-project"
#   name: "My GitLab Project"
#   type: python
#   path: /home/user/my-gitlab-project
#   repository: https://gitlab.com/user/project
#   git_platform: gitlab
#   test_command: "pytest tests/ -v"
#   build_command: null
#   enabled: true
#   # GitLab project ID (optional, auto-detected if not provided)
#   project_id: 12345678

# ---------------------------------------------------------------------------
# Custom Project with Custom Commands
# ---------------------------------------------------------------------------
# - id: "custom-proj"
#   name: "My Custom Project"
#   type: custom
#   path: /home/user/custom-project
#   repository: https://github.com/user/custom
#   git_platform: github
#   test_command: "make test"
#   build_command: "make build"
#   lint_command: "make lint"
#   enabled: true

# ============================================================================
# TIPS FOR MULTI-PROJECT MANAGEMENT
# ============================================================================
#
# 1. Project IDs must be unique across all projects
# 2. Use descriptive IDs (e.g., "web-frontend", "game-server", "cli-tool")
# 3. Set enabled: false to temporarily disable monitoring a project
# 4. The issue watcher polls all enabled projects in sequence
# 5. Each project gets its own isolated git worktree during automation
# 6. PRs are created in the correct repository automatically
# 7. Use the project-manager CLI to add/remove projects dynamically:
#    - lazy-bird projects list
#    - lazy-bird projects add --id my-app --path /path --type python
#    - lazy-bird projects remove my-app
#    - lazy-bird projects disable my-app
#
# For more information, see: Docs/Design/phase1.1-multi-project.md
